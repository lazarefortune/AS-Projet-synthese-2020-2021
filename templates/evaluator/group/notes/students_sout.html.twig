{% extends "layouts/admin.html.twig" %}

{% block stylesheets %}
    <link href="{{ asset('assets/css/note.css') }}" rel="stylesheet">
{% endblock %}


{% block admin_content %}
{% include "layouts/notation/buttons/retour_user.html.twig" %}

<div class="vue_content">        
    {% include "layouts/notation/user/header.html.twig" %}
    
    <h1 class="text-center">Evaluation de la soutenance</h1>

    {% include 'layouts/flash-messages.html.twig' %}

    {{ form_start(formNotation) }}
        <div class="table-responsive size_tab">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th class="criteres">Critères</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Qualité du rapport </br> <span>/20 points. coeff. 1</span></td>
                        <td class="valeur">
                            <input type="number" min="0" max="20" size="2" step="0.5" class="form-control form-control-sm" id="note_rapport_{{ groupe.id }}"
                            value="{{ notes['sout_qual_pres'] }}" onchange="moyenne({{ groupe.id }})" name="eval_notation[qualPres]"  required></input>
                            {% do formNotation.qualPres.setRendered %}
                        </td>
                    </tr>

                    <tr>
                        <td>Travail réalisé. Etat d'avancement du projet </br> <span>/20 points. coeff. 2</span></td>
                        <td class="valeur">
                            <input type="number" min="0" max="20" size="2" step="0.5" class="form-control form-control-sm" id="note_travail_{{ groupe.id }}"
                            value="{{ notes['sout_trav'] }}" onchange="moyenne({{ groupe.id }})" name="eval_notation[trav]" required></input>
                            {% do formNotation.trav.setRendered %}
                        </td>
                    </tr>

                    <tr>
                        <td>Utilisation de compétences nouvelles </br> <span>/20 points. coeff. 2</span></td>
                        <td class="valeur">
                            <input type="number" min="0" max="20" size="2" step="0.5" class="form-control form-control-sm" id="note_competences_{{ groupe.id }}"
                            value="{{ notes['sout_compet'] }}" onchange="moyenne({{ groupe.id }})" name="eval_notation[compet]" required></input>
                            {% do formNotation.compet.setRendered %}
                        </td>
                    </tr>

                    <tr>
                        <td>Moyenne</td>
                        <td class="valeur">
                            <input id="note_moyenne_{{ groupe.id }}" type="text" class="form control form-control-sm"
                            value="{{ notes['sout_moyenne'] }}"  name="eval_notation[moyenne]"></input>
                            {% do formNotation.moyenne.setRendered %}
                        </td>
                    </tr>
                </tbody>
            </table>
            <button class="btn btn-success" type="submit">Mettre à jour</button>
        </div>
    {{ form_end(formNotation) }}
</div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('assets/js/indiv_moy.js') }}"></script>
{% endblock %}